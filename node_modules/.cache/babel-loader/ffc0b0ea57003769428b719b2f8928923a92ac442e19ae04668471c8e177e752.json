{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sahilkushwaha\\\\Downloads\\\\customer\\\\customer-onboarding-ui\\\\src\\\\components\\\\OpenTask\\\\OpenTask.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './OpenTask.css';\nimport tasklistApi from '../../services/tasklistApi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OpenTask = () => {\n  _s();\n  const [openTasks, setOpenTasks] = useState([]);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [alerts, setAlerts] = useState([]);\n\n  // Load open tasks from localStorage (submitted from customer onboarding)\n  useEffect(() => {\n    const loadOpenTasks = () => {\n      setLoading(true);\n      try {\n        const savedApplications = localStorage.getItem('submittedApplications');\n        if (savedApplications) {\n          const parsedApplications = JSON.parse(savedApplications);\n          console.log('All applications in localStorage:', parsedApplications);\n\n          // Filter applications that are in progress or pending (open tasks)\n          const openTasksData = parsedApplications.filter(app => {\n            console.log('Checking app:', app.id, 'workflowStatus:', app.workflowStatus, 'status:', app.status);\n            return app.workflowStatus === 'manual_review' || app.status === 'pending_review' || app.workflowStatus === 'in_progress' || app.status === 'submitted';\n          }).map(app => {\n            var _app$customer, _app$customer2, _app$customer3, _app$customer4, _app$customer5, _app$customer6, _app$customer7, _app$customer8, _app$customer9, _app$customer0;\n            return {\n              ...app,\n              customerName: ((_app$customer = app.customer) === null || _app$customer === void 0 ? void 0 : _app$customer.fullName) || 'Unknown Customer',\n              incomeBand: ((_app$customer2 = app.customer) === null || _app$customer2 === void 0 ? void 0 : _app$customer2.income_band) || 'Not specified',\n              pep: ((_app$customer3 = app.customer) === null || _app$customer3 === void 0 ? void 0 : _app$customer3.pep) || false,\n              completedSteps: calculateCompletedSteps(app),\n              submissionDate: app.submissionTimestamp ? new Date(app.submissionTimestamp).toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n              // Task-specific fields\n              taskName: 'Manual Review',\n              creationDate: app.submissionTimestamp ? new Date(app.submissionTimestamp).toLocaleDateString() : new Date().toLocaleDateString(),\n              taskStatus: app.assignedTo ? 'assigned' : 'unassigned',\n              assignedTo: app.assignedTo || null,\n              isAssigned: !!app.assignedTo,\n              customerData: {\n                fullName: ((_app$customer4 = app.customer) === null || _app$customer4 === void 0 ? void 0 : _app$customer4.fullName) || '',\n                dob: ((_app$customer5 = app.customer) === null || _app$customer5 === void 0 ? void 0 : _app$customer5.dob) || '',\n                mobile: ((_app$customer6 = app.customer) === null || _app$customer6 === void 0 ? void 0 : _app$customer6.mobile) || '',\n                email: ((_app$customer7 = app.customer) === null || _app$customer7 === void 0 ? void 0 : _app$customer7.email) || '',\n                occupation: ((_app$customer8 = app.customer) === null || _app$customer8 === void 0 ? void 0 : _app$customer8.occupation) || '',\n                income_band: ((_app$customer9 = app.customer) === null || _app$customer9 === void 0 ? void 0 : _app$customer9.income_band) || '',\n                pep: ((_app$customer0 = app.customer) === null || _app$customer0 === void 0 ? void 0 : _app$customer0.pep) || false,\n                address: app.address || {},\n                product: app.product || {},\n                ids: app.ids || {}\n              }\n            };\n          });\n          setOpenTasks(openTasksData);\n        } else {\n          setOpenTasks([]);\n        }\n      } catch (error) {\n        console.error('Error loading open tasks:', error);\n        addAlert('Error loading tasks', 'error');\n        setOpenTasks([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadOpenTasks();\n\n    // Listen for storage changes to update in real-time\n    const handleStorageChange = () => {\n      loadOpenTasks();\n    };\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  // Get task status based on workflow and application status\n  const getTaskStatus = (workflowStatus, status) => {\n    if (workflowStatus === 'manual_review') return 'Manual Review';\n    if (status === 'pending_review') return 'Pending Review';\n    if (workflowStatus === 'in_progress') return 'In Progress';\n    if (status === 'submitted') return 'Submitted';\n    return 'Unknown';\n  };\n\n  // Calculate completed steps based on available data\n  const calculateCompletedSteps = app => {\n    var _app$customer1, _app$customer10, _app$customer11, _app$address, _app$address2, _app$address3, _app$product;\n    let steps = 0;\n\n    // Check if basic customer info is complete\n    if ((_app$customer1 = app.customer) !== null && _app$customer1 !== void 0 && _app$customer1.fullName && (_app$customer10 = app.customer) !== null && _app$customer10 !== void 0 && _app$customer10.email && (_app$customer11 = app.customer) !== null && _app$customer11 !== void 0 && _app$customer11.mobile) {\n      steps++;\n    }\n\n    // Check if address is complete\n    if ((_app$address = app.address) !== null && _app$address !== void 0 && _app$address.line1 && (_app$address2 = app.address) !== null && _app$address2 !== void 0 && _app$address2.city && (_app$address3 = app.address) !== null && _app$address3 !== void 0 && _app$address3.state) {\n      steps++;\n    }\n\n    // Check if documents are uploaded\n    if (app.documents && app.documents.length > 0) {\n      steps++;\n    }\n\n    // Check if product selection is complete\n    if ((_app$product = app.product) !== null && _app$product !== void 0 && _app$product.desired_account) {\n      steps++;\n    }\n    return `${steps}/4`;\n  };\n  const addAlert = (message, type = 'info') => {\n    const alert = {\n      id: Date.now(),\n      message,\n      type\n    };\n    setAlerts(prev => [...prev, alert]);\n    setTimeout(() => {\n      setAlerts(prev => prev.filter(a => a.id !== alert.id));\n    }, 5000);\n  };\n  const handleTaskAction = async action => {\n    if (!selectedTask) {\n      addAlert('No task selected', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      const newStatus = action === 'approve' ? 'approved' : 'rejected';\n      const newWorkflowStatus = action === 'approve' ? 'account_setup' : 'rejected';\n\n      // Update application status in localStorage\n      const savedApplications = JSON.parse(localStorage.getItem('submittedApplications') || '[]');\n      const updatedApplications = savedApplications.map(app => app.id === selectedTask.id ? {\n        ...app,\n        status: newStatus,\n        workflowStatus: newWorkflowStatus,\n        reviewDate: new Date().toISOString().split('T')[0],\n        reviewer: 'Admin User',\n        workflowHistory: [...(app.workflowHistory || []), {\n          step: 'Task Review',\n          status: 'completed',\n          timestamp: new Date().toISOString(),\n          description: `Task ${action}d by reviewer`\n        }, ...(action === 'approve' ? [{\n          step: 'Account Setup',\n          status: 'in_progress',\n          timestamp: new Date().toISOString(),\n          description: 'Account creation in progress after approval'\n        }] : [])]\n      } : app);\n      localStorage.setItem('submittedApplications', JSON.stringify(updatedApplications));\n      window.dispatchEvent(new Event('storage'));\n\n      // Update local state - remove the task from open tasks since it's now processed\n      setOpenTasks(prev => prev.filter(task => task.id !== selectedTask.id));\n      addAlert(`Task ${action === 'approve' ? 'approved' : 'rejected'} successfully`, 'success');\n\n      // Clear selection since the task is no longer in the list\n      setSelectedTask(null);\n    } catch (error) {\n      console.error('Error processing task action:', error);\n      addAlert(`Failed to ${action} task`, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleTaskAssignment = async action => {\n    if (!selectedTask) {\n      addAlert('No task selected', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      const currentUser = 'Admin User'; // In a real app, this would come from auth context\n      const newAssignedTo = action === 'assign' ? currentUser : null;\n\n      // Update application assignment in localStorage\n      const savedApplications = JSON.parse(localStorage.getItem('submittedApplications') || '[]');\n      const updatedApplications = savedApplications.map(app => app.id === selectedTask.id ? {\n        ...app,\n        assignedTo: newAssignedTo,\n        assignmentDate: action === 'assign' ? new Date().toISOString() : null,\n        workflowHistory: [...(app.workflowHistory || []), {\n          step: 'Task Assignment',\n          status: 'completed',\n          timestamp: new Date().toISOString(),\n          description: action === 'assign' ? `Task assigned to ${currentUser}` : `Task unassigned from ${app.assignedTo || 'user'}`\n        }]\n      } : app);\n      localStorage.setItem('submittedApplications', JSON.stringify(updatedApplications));\n      window.dispatchEvent(new Event('storage'));\n\n      // Update local state\n      setOpenTasks(prev => prev.map(task => task.id === selectedTask.id ? {\n        ...task,\n        assignedTo: newAssignedTo,\n        isAssigned: !!newAssignedTo,\n        taskStatus: newAssignedTo ? 'assigned' : 'unassigned'\n      } : task));\n\n      // Update selected task\n      setSelectedTask(prev => ({\n        ...prev,\n        assignedTo: newAssignedTo,\n        isAssigned: !!newAssignedTo,\n        taskStatus: newAssignedTo ? 'assigned' : 'unassigned'\n      }));\n      addAlert(`Task ${action === 'assign' ? 'assigned' : 'unassigned'} successfully`, 'success');\n    } catch (error) {\n      console.error('Error processing task assignment:', error);\n      addAlert(`Failed to ${action} task`, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getStatusColor = status => {\n    // Using CSS variables for consistent theming\n    const root = document.documentElement;\n    const getVar = varName => getComputedStyle(root).getPropertyValue(varName).trim();\n    switch (status) {\n      case 'submitted':\n        return getVar('--color-info');\n      case 'in_progress':\n        return getVar('--color-warning');\n      case 'pending_review':\n        return getVar('--color-warning-alt');\n      case 'manual_review':\n        return getVar('--color-danger');\n      default:\n        return getVar('--color-secondary');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"open-task-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-title\",\n      children: \"All open tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), alerts.map(alert => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert alert-${alert.type}`,\n      children: alert.message\n    }, alert.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tasks-panel panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tasks-header flex-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"All open tasks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sort-icon\",\n            children: \"\\u21C5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tasks-list\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-tasks empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\",\n              children: \"\\u23F3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Loading tasks...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Please wait while we fetch your open tasks.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this) : openTasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-tasks empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-tasks-icon\",\n              children: \"\\uD83D\\uDD0D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No tasks found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"There are no tasks matching your filter criteria.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this) : openTasks.map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `task-card ${(selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id) === task.id ? 'selected' : ''}`,\n            onClick: () => setSelectedTask(task),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: task.taskName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Creation Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: task.creationDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-detail-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-label\",\n                  children: \"Task Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"detail-value\",\n                  children: task.taskStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this)]\n          }, task.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-details-panel panel\",\n        children: selectedTask ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"task-details-header flex-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Task Details: \", selectedTask.customerName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-assignment-controls\",\n              children: selectedTask.isAssigned ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"assigned-to\",\n                  children: [\"Assigned to: \", selectedTask.assignedTo]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary unassign-btn btn-base\",\n                  onClick: () => handleTaskAssignment('unassign'),\n                  disabled: loading,\n                  children: loading ? 'Unassigning...' : 'Unassign'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary assign-btn btn-base\",\n                onClick: () => handleTaskAssignment('assign'),\n                disabled: loading,\n                children: loading ? 'Assigning...' : 'Assign to Me'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details-sections\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Customer Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-grid\",\n                children: [selectedTask.customerData.fullName && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Full Name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 28\n                  }, this), \" \", selectedTask.customerData.fullName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this), selectedTask.customerData.dob && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Date of Birth:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 28\n                  }, this), \" \", selectedTask.customerData.dob]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 23\n                }, this), selectedTask.customerData.email && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Email:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 28\n                  }, this), \" \", selectedTask.customerData.email]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 23\n                }, this), selectedTask.customerData.mobile && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Mobile:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 28\n                  }, this), \" \", selectedTask.customerData.mobile]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 23\n                }, this), selectedTask.customerData.occupation && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Occupation:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 28\n                  }, this), \" \", selectedTask.customerData.occupation]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 23\n                }, this), selectedTask.customerData.income_band && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Income Band:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 28\n                  }, this), \" \", selectedTask.customerData.income_band]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"PEP Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 26\n                  }, this), \" \", selectedTask.customerData.pep ? 'Yes' : 'No']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), (selectedTask.customerData.address.line1 || selectedTask.customerData.address.city || selectedTask.customerData.address.state) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"address-info\",\n                children: [selectedTask.customerData.address.line1 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: selectedTask.customerData.address.line1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 25\n                }, this), selectedTask.customerData.address.line2 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: selectedTask.customerData.address.line2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 25\n                }, this), (selectedTask.customerData.address.city || selectedTask.customerData.address.state) && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [selectedTask.customerData.address.city, selectedTask.customerData.address.city && selectedTask.customerData.address.state && ', ', selectedTask.customerData.address.state]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this), (selectedTask.customerData.address.pin || selectedTask.customerData.address.country) && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [selectedTask.customerData.address.pin, selectedTask.customerData.address.pin && selectedTask.customerData.address.country && ', ', selectedTask.customerData.address.country]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this), (selectedTask.customerData.product.desired_account || selectedTask.customerData.product.expected_mab_range) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Product Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-grid\",\n                children: [selectedTask.customerData.product.desired_account && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Account Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 30\n                  }, this), \" \", selectedTask.customerData.product.desired_account]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 25\n                }, this), selectedTask.customerData.product.expected_mab_range && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Expected MAB:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 30\n                  }, this), \" \", selectedTask.customerData.product.expected_mab_range]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 19\n            }, this), (selectedTask.customerData.ids.idType || selectedTask.customerData.ids.idNumber) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Identity Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-grid\",\n                children: [selectedTask.customerData.ids.idType && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"ID Type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 30\n                  }, this), \" \", selectedTask.customerData.ids.idType.toUpperCase()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 25\n                }, this), selectedTask.customerData.ids.idNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"ID Number:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 30\n                  }, this), \" \", selectedTask.customerData.ids.idNumber]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 19\n            }, this), selectedTask.documents && selectedTask.documents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"Documents (\", selectedTask.documents.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"documents-list\",\n                children: selectedTask.documents.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"document-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"doc-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"doc-name\",\n                      children: doc.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"doc-type\",\n                      children: doc.type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 27\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Task Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Current Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-badge\",\n                    style: {\n                      backgroundColor: getStatusColor(selectedTask.status || selectedTask.workflowStatus)\n                    },\n                    children: (selectedTask.status || selectedTask.workflowStatus || 'Unknown').replace('_', ' ').toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Submission Date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 23\n                  }, this), \" \", selectedTask.submissionDate]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Process ID:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 23\n                  }, this), \" \", selectedTask.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Completed Steps:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 23\n                  }, this), \" \", selectedTask.completedSteps]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"task-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"action-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-approve\",\n                  onClick: () => handleTaskAction('approve'),\n                  disabled: loading,\n                  children: loading ? 'Processing...' : '✓ Approve'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-reject\",\n                  onClick: () => handleTaskAction('reject'),\n                  disabled: loading,\n                  children: loading ? 'Processing...' : '✗ Reject'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-selection empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Select a Task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Choose a task from the list to view its details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n};\n_s(OpenTask, \"GdIUEDBg3kA4HEp5CzE5RTVg5sQ=\");\n_c = OpenTask;\nexport default OpenTask;\nvar _c;\n$RefreshReg$(_c, \"OpenTask\");","map":{"version":3,"names":["React","useState","useEffect","tasklistApi","jsxDEV","_jsxDEV","Fragment","_Fragment","OpenTask","_s","openTasks","setOpenTasks","selectedTask","setSelectedTask","loading","setLoading","alerts","setAlerts","loadOpenTasks","savedApplications","localStorage","getItem","parsedApplications","JSON","parse","console","log","openTasksData","filter","app","id","workflowStatus","status","map","_app$customer","_app$customer2","_app$customer3","_app$customer4","_app$customer5","_app$customer6","_app$customer7","_app$customer8","_app$customer9","_app$customer0","customerName","customer","fullName","incomeBand","income_band","pep","completedSteps","calculateCompletedSteps","submissionDate","submissionTimestamp","Date","toISOString","split","taskName","creationDate","toLocaleDateString","taskStatus","assignedTo","isAssigned","customerData","dob","mobile","email","occupation","address","product","ids","error","addAlert","handleStorageChange","window","addEventListener","removeEventListener","getTaskStatus","_app$customer1","_app$customer10","_app$customer11","_app$address","_app$address2","_app$address3","_app$product","steps","line1","city","state","documents","length","desired_account","message","type","alert","now","prev","setTimeout","a","handleTaskAction","action","Promise","resolve","newStatus","newWorkflowStatus","updatedApplications","reviewDate","reviewer","workflowHistory","step","timestamp","description","setItem","stringify","dispatchEvent","Event","task","handleTaskAssignment","currentUser","newAssignedTo","assignmentDate","getStatusColor","root","document","documentElement","getVar","varName","getComputedStyle","getPropertyValue","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","line2","pin","country","expected_mab_range","idType","idNumber","toUpperCase","doc","index","name","style","backgroundColor","replace","_c","$RefreshReg$"],"sources":["C:/Users/sahilkushwaha/Downloads/customer/customer-onboarding-ui/src/components/OpenTask/OpenTask.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './OpenTask.css';\r\nimport tasklistApi from '../../services/tasklistApi';\r\n\r\nconst OpenTask = () => {\r\n  const [openTasks, setOpenTasks] = useState([]);\r\n  const [selectedTask, setSelectedTask] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [alerts, setAlerts] = useState([]);\r\n\r\n  // Load open tasks from localStorage (submitted from customer onboarding)\r\n  useEffect(() => {\r\n    const loadOpenTasks = () => {\r\n      setLoading(true);\r\n      try {\r\n        const savedApplications = localStorage.getItem('submittedApplications');\r\n        if (savedApplications) {\r\n          const parsedApplications = JSON.parse(savedApplications);\r\n          console.log('All applications in localStorage:', parsedApplications);\r\n          \r\n          // Filter applications that are in progress or pending (open tasks)\r\n          const openTasksData = parsedApplications\r\n            .filter(app => {\r\n              console.log('Checking app:', app.id, 'workflowStatus:', app.workflowStatus, 'status:', app.status);\r\n              return app.workflowStatus === 'manual_review' || \r\n                     app.status === 'pending_review' ||\r\n                     app.workflowStatus === 'in_progress' ||\r\n                     app.status === 'submitted';\r\n            })\r\n            .map(app => ({\r\n              ...app,\r\n              customerName: app.customer?.fullName || 'Unknown Customer',\r\n              incomeBand: app.customer?.income_band || 'Not specified',\r\n              pep: app.customer?.pep || false,\r\n              completedSteps: calculateCompletedSteps(app),\r\n              submissionDate: app.submissionTimestamp ? \r\n                new Date(app.submissionTimestamp).toISOString().split('T')[0] : \r\n                new Date().toISOString().split('T')[0],\r\n              // Task-specific fields\r\n              taskName: 'Manual Review',\r\n              creationDate: app.submissionTimestamp ? \r\n                new Date(app.submissionTimestamp).toLocaleDateString() : \r\n                new Date().toLocaleDateString(),\r\n              taskStatus: app.assignedTo ? 'assigned' : 'unassigned',\r\n              assignedTo: app.assignedTo || null,\r\n              isAssigned: !!app.assignedTo,\r\n              customerData: {\r\n                fullName: app.customer?.fullName || '',\r\n                dob: app.customer?.dob || '',\r\n                mobile: app.customer?.mobile || '',\r\n                email: app.customer?.email || '',\r\n                occupation: app.customer?.occupation || '',\r\n                income_band: app.customer?.income_band || '',\r\n                pep: app.customer?.pep || false,\r\n                address: app.address || {},\r\n                product: app.product || {},\r\n                ids: app.ids || {}\r\n              }\r\n            }));\r\n          setOpenTasks(openTasksData);\r\n        } else {\r\n          setOpenTasks([]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading open tasks:', error);\r\n        addAlert('Error loading tasks', 'error');\r\n        setOpenTasks([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadOpenTasks();\r\n    \r\n    // Listen for storage changes to update in real-time\r\n    const handleStorageChange = () => {\r\n      loadOpenTasks();\r\n    };\r\n    \r\n    window.addEventListener('storage', handleStorageChange);\r\n    return () => window.removeEventListener('storage', handleStorageChange);\r\n  }, []);\r\n\r\n  // Get task status based on workflow and application status\r\n  const getTaskStatus = (workflowStatus, status) => {\r\n    if (workflowStatus === 'manual_review') return 'Manual Review';\r\n    if (status === 'pending_review') return 'Pending Review';\r\n    if (workflowStatus === 'in_progress') return 'In Progress';\r\n    if (status === 'submitted') return 'Submitted';\r\n    return 'Unknown';\r\n  };\r\n\r\n  // Calculate completed steps based on available data\r\n  const calculateCompletedSteps = (app) => {\r\n    let steps = 0;\r\n    \r\n    // Check if basic customer info is complete\r\n    if (app.customer?.fullName && app.customer?.email && app.customer?.mobile) {\r\n      steps++;\r\n    }\r\n    \r\n    // Check if address is complete\r\n    if (app.address?.line1 && app.address?.city && app.address?.state) {\r\n      steps++;\r\n    }\r\n    \r\n    // Check if documents are uploaded\r\n    if (app.documents && app.documents.length > 0) {\r\n      steps++;\r\n    }\r\n    \r\n    // Check if product selection is complete\r\n    if (app.product?.desired_account) {\r\n      steps++;\r\n    }\r\n    \r\n    return `${steps}/4`;\r\n  };\r\n\r\n  const addAlert = (message, type = 'info') => {\r\n    const alert = { id: Date.now(), message, type };\r\n    setAlerts(prev => [...prev, alert]);\r\n    setTimeout(() => {\r\n      setAlerts(prev => prev.filter(a => a.id !== alert.id));\r\n    }, 5000);\r\n  };\r\n\r\n  const handleTaskAction = async (action) => {\r\n    if (!selectedTask) {\r\n      addAlert('No task selected', 'error');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n      const newStatus = action === 'approve' ? 'approved' : 'rejected';\r\n      const newWorkflowStatus = action === 'approve' ? 'account_setup' : 'rejected';\r\n\r\n      // Update application status in localStorage\r\n      const savedApplications = JSON.parse(localStorage.getItem('submittedApplications') || '[]');\r\n      const updatedApplications = savedApplications.map(app => \r\n        app.id === selectedTask.id \r\n          ? { \r\n              ...app, \r\n              status: newStatus,\r\n              workflowStatus: newWorkflowStatus,\r\n              reviewDate: new Date().toISOString().split('T')[0],\r\n              reviewer: 'Admin User',\r\n              workflowHistory: [\r\n                ...(app.workflowHistory || []),\r\n                {\r\n                  step: 'Task Review',\r\n                  status: 'completed',\r\n                  timestamp: new Date().toISOString(),\r\n                  description: `Task ${action}d by reviewer`\r\n                },\r\n                ...(action === 'approve' ? [{\r\n                  step: 'Account Setup',\r\n                  status: 'in_progress',\r\n                  timestamp: new Date().toISOString(),\r\n                  description: 'Account creation in progress after approval'\r\n                }] : [])\r\n              ]\r\n            }\r\n          : app\r\n      );\r\n      \r\n      localStorage.setItem('submittedApplications', JSON.stringify(updatedApplications));\r\n      window.dispatchEvent(new Event('storage'));\r\n\r\n      // Update local state - remove the task from open tasks since it's now processed\r\n      setOpenTasks(prev => prev.filter(task => task.id !== selectedTask.id));\r\n      \r\n      addAlert(\r\n        `Task ${action === 'approve' ? 'approved' : 'rejected'} successfully`, \r\n        'success'\r\n      );\r\n\r\n      // Clear selection since the task is no longer in the list\r\n      setSelectedTask(null);\r\n\r\n    } catch (error) {\r\n      console.error('Error processing task action:', error);\r\n      addAlert(`Failed to ${action} task`, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTaskAssignment = async (action) => {\r\n    if (!selectedTask) {\r\n      addAlert('No task selected', 'error');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n      const currentUser = 'Admin User'; // In a real app, this would come from auth context\r\n      const newAssignedTo = action === 'assign' ? currentUser : null;\r\n\r\n      // Update application assignment in localStorage\r\n      const savedApplications = JSON.parse(localStorage.getItem('submittedApplications') || '[]');\r\n      const updatedApplications = savedApplications.map(app => \r\n        app.id === selectedTask.id \r\n          ? { \r\n              ...app, \r\n              assignedTo: newAssignedTo,\r\n              assignmentDate: action === 'assign' ? new Date().toISOString() : null,\r\n              workflowHistory: [\r\n                ...(app.workflowHistory || []),\r\n                {\r\n                  step: 'Task Assignment',\r\n                  status: 'completed',\r\n                  timestamp: new Date().toISOString(),\r\n                  description: action === 'assign' \r\n                    ? `Task assigned to ${currentUser}` \r\n                    : `Task unassigned from ${app.assignedTo || 'user'}`\r\n                }\r\n              ]\r\n            }\r\n          : app\r\n      );\r\n      \r\n      localStorage.setItem('submittedApplications', JSON.stringify(updatedApplications));\r\n      window.dispatchEvent(new Event('storage'));\r\n\r\n      // Update local state\r\n      setOpenTasks(prev => prev.map(task => \r\n        task.id === selectedTask.id \r\n          ? { \r\n              ...task, \r\n              assignedTo: newAssignedTo,\r\n              isAssigned: !!newAssignedTo,\r\n              taskStatus: newAssignedTo ? 'assigned' : 'unassigned'\r\n            }\r\n          : task\r\n      ));\r\n\r\n      // Update selected task\r\n      setSelectedTask(prev => ({\r\n        ...prev,\r\n        assignedTo: newAssignedTo,\r\n        isAssigned: !!newAssignedTo,\r\n        taskStatus: newAssignedTo ? 'assigned' : 'unassigned'\r\n      }));\r\n      \r\n      addAlert(\r\n        `Task ${action === 'assign' ? 'assigned' : 'unassigned'} successfully`, \r\n        'success'\r\n      );\r\n\r\n    } catch (error) {\r\n      console.error('Error processing task assignment:', error);\r\n      addAlert(`Failed to ${action} task`, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    // Using CSS variables for consistent theming\r\n    const root = document.documentElement;\r\n    const getVar = (varName) => getComputedStyle(root).getPropertyValue(varName).trim();\r\n    \r\n    switch (status) {\r\n      case 'submitted': return getVar('--color-info');\r\n      case 'in_progress': return getVar('--color-warning');\r\n      case 'pending_review': return getVar('--color-warning-alt');\r\n      case 'manual_review': return getVar('--color-danger');\r\n      default: return getVar('--color-secondary');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"open-task-container\">\r\n      <h1 className=\"page-title\">All open tasks</h1>\r\n\r\n      {alerts.map(alert => (\r\n        <div key={alert.id} className={`alert alert-${alert.type}`}>\r\n          {alert.message}\r\n        </div>\r\n      ))}\r\n\r\n      <div className=\"task-layout\">\r\n        {/* Tasks List */}\r\n        <div className=\"tasks-panel panel\">\r\n          <div className=\"tasks-header flex-header\">\r\n            <h2>All open tasks</h2>\r\n            <div className=\"sort-icon\">⇅</div>\r\n          </div>\r\n          \r\n          <div className=\"tasks-list\">\r\n            {loading ? (\r\n              <div className=\"loading-tasks empty-state\">\r\n                <div className=\"loading-spinner\">⏳</div>\r\n                <h3>Loading tasks...</h3>\r\n                <p>Please wait while we fetch your open tasks.</p>\r\n              </div>\r\n            ) : openTasks.length === 0 ? (\r\n              <div className=\"no-tasks empty-state\">\r\n                <div className=\"no-tasks-icon\">🔍</div>\r\n                <h3>No tasks found</h3>\r\n                <p>There are no tasks matching your filter criteria.</p>\r\n              </div>\r\n            ) : (\r\n              openTasks.map(task => (\r\n                <div \r\n                  key={task.id} \r\n                  className={`task-card ${selectedTask?.id === task.id ? 'selected' : ''}`}\r\n                  onClick={() => setSelectedTask(task)}\r\n                >\r\n                  <div className=\"task-header\">\r\n                    <h3>{task.taskName}</h3>\r\n                  </div>\r\n                  <div className=\"task-details\">\r\n                    <div className=\"task-detail-row\">\r\n                      <span className=\"detail-label\">Creation Date:</span>\r\n                      <span className=\"detail-value\">{task.creationDate}</span>\r\n                    </div>\r\n                    <div className=\"task-detail-row\">\r\n                      <span className=\"detail-label\">Task Status:</span>\r\n                      <span className=\"detail-value\">{task.taskStatus}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Task Details Panel */}\r\n        <div className=\"task-details-panel panel\">\r\n          {selectedTask ? (\r\n            <>\r\n              <div className=\"task-details-header flex-header\">\r\n                <h2>Task Details: {selectedTask.customerName}</h2>\r\n                <div className=\"task-assignment-controls\">\r\n                  {selectedTask.isAssigned ? (\r\n                    <>\r\n                      <span className=\"assigned-to\">Assigned to: {selectedTask.assignedTo}</span>\r\n                      <button \r\n                        className=\"btn btn-secondary unassign-btn btn-base\"\r\n                        onClick={() => handleTaskAssignment('unassign')}\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? 'Unassigning...' : 'Unassign'}\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <button \r\n                      className=\"btn btn-primary assign-btn btn-base\"\r\n                      onClick={() => handleTaskAssignment('assign')}\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Assigning...' : 'Assign to Me'}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"details-sections\">\r\n                {/* Customer Information */}\r\n                <div className=\"details-section\">\r\n                  <h3>Customer Information</h3>\r\n                  <div className=\"info-grid\">\r\n                    {selectedTask.customerData.fullName && (\r\n                      <div><strong>Full Name:</strong> {selectedTask.customerData.fullName}</div>\r\n                    )}\r\n                    {selectedTask.customerData.dob && (\r\n                      <div><strong>Date of Birth:</strong> {selectedTask.customerData.dob}</div>\r\n                    )}\r\n                    {selectedTask.customerData.email && (\r\n                      <div><strong>Email:</strong> {selectedTask.customerData.email}</div>\r\n                    )}\r\n                    {selectedTask.customerData.mobile && (\r\n                      <div><strong>Mobile:</strong> {selectedTask.customerData.mobile}</div>\r\n                    )}\r\n                    {selectedTask.customerData.occupation && (\r\n                      <div><strong>Occupation:</strong> {selectedTask.customerData.occupation}</div>\r\n                    )}\r\n                    {selectedTask.customerData.income_band && (\r\n                      <div><strong>Income Band:</strong> {selectedTask.customerData.income_band}</div>\r\n                    )}\r\n                    <div><strong>PEP Status:</strong> {selectedTask.customerData.pep ? 'Yes' : 'No'}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Address Information */}\r\n                {(selectedTask.customerData.address.line1 || \r\n                  selectedTask.customerData.address.city || \r\n                  selectedTask.customerData.address.state) && (\r\n                  <div className=\"details-section\">\r\n                    <h3>Address</h3>\r\n                    <div className=\"address-info\">\r\n                      {selectedTask.customerData.address.line1 && (\r\n                        <p>{selectedTask.customerData.address.line1}</p>\r\n                      )}\r\n                      {selectedTask.customerData.address.line2 && (\r\n                        <p>{selectedTask.customerData.address.line2}</p>\r\n                      )}\r\n                      {(selectedTask.customerData.address.city || selectedTask.customerData.address.state) && (\r\n                        <p>\r\n                          {selectedTask.customerData.address.city}\r\n                          {selectedTask.customerData.address.city && selectedTask.customerData.address.state && ', '}\r\n                          {selectedTask.customerData.address.state}\r\n                        </p>\r\n                      )}\r\n                      {(selectedTask.customerData.address.pin || selectedTask.customerData.address.country) && (\r\n                        <p>\r\n                          {selectedTask.customerData.address.pin}\r\n                          {selectedTask.customerData.address.pin && selectedTask.customerData.address.country && ', '}\r\n                          {selectedTask.customerData.address.country}\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Product Information */}\r\n                {(selectedTask.customerData.product.desired_account || \r\n                  selectedTask.customerData.product.expected_mab_range) && (\r\n                  <div className=\"details-section\">\r\n                    <h3>Product Details</h3>\r\n                    <div className=\"info-grid\">\r\n                      {selectedTask.customerData.product.desired_account && (\r\n                        <div><strong>Account Type:</strong> {selectedTask.customerData.product.desired_account}</div>\r\n                      )}\r\n                      {selectedTask.customerData.product.expected_mab_range && (\r\n                        <div><strong>Expected MAB:</strong> {selectedTask.customerData.product.expected_mab_range}</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* ID Information */}\r\n                {(selectedTask.customerData.ids.idType || selectedTask.customerData.ids.idNumber) && (\r\n                  <div className=\"details-section\">\r\n                    <h3>Identity Details</h3>\r\n                    <div className=\"info-grid\">\r\n                      {selectedTask.customerData.ids.idType && (\r\n                        <div><strong>ID Type:</strong> {selectedTask.customerData.ids.idType.toUpperCase()}</div>\r\n                      )}\r\n                      {selectedTask.customerData.ids.idNumber && (\r\n                        <div><strong>ID Number:</strong> {selectedTask.customerData.ids.idNumber}</div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Documents */}\r\n                {selectedTask.documents && selectedTask.documents.length > 0 && (\r\n                  <div className=\"details-section\">\r\n                    <h3>Documents ({selectedTask.documents.length})</h3>\r\n                    <div className=\"documents-list\">\r\n                      {selectedTask.documents.map((doc, index) => (\r\n                        <div key={index} className=\"document-item\">\r\n                          <div className=\"doc-info\">\r\n                            <div className=\"doc-name\">{doc.name}</div>\r\n                            <div className=\"doc-type\">{doc.type}</div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Task Status */}\r\n                <div className=\"details-section\">\r\n                  <h3>Task Status</h3>\r\n                  <div className=\"status-info\">\r\n                    <div className=\"status-item\">\r\n                      <strong>Current Status:</strong>\r\n                      <span \r\n                        className=\"status-badge\" \r\n                        style={{ backgroundColor: getStatusColor(selectedTask.status || selectedTask.workflowStatus) }}\r\n                      >\r\n                        {(selectedTask.status || selectedTask.workflowStatus || 'Unknown').replace('_', ' ').toUpperCase()}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"status-item\">\r\n                      <strong>Submission Date:</strong> {selectedTask.submissionDate}\r\n                    </div>\r\n                    <div className=\"status-item\">\r\n                      <strong>Process ID:</strong> {selectedTask.id}\r\n                    </div>\r\n                    <div className=\"status-item\">\r\n                      <strong>Completed Steps:</strong> {selectedTask.completedSteps}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Task Actions */}\r\n                <div className=\"task-actions\">\r\n                  <div className=\"action-buttons\">\r\n                    <button \r\n                      className=\"btn btn-approve\"\r\n                      onClick={() => handleTaskAction('approve')}\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Processing...' : '✓ Approve'}\r\n                    </button>\r\n                    <button \r\n                      className=\"btn btn-reject\"\r\n                      onClick={() => handleTaskAction('reject')}\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Processing...' : '✗ Reject'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <div className=\"no-selection empty-state\">\r\n              <h2>Select a Task</h2>\r\n              <p>Choose a task from the list to view its details</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OpenTask;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}